!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).traverson=t()}(function(){var define,module,exports;return function n(o,i,s){function a(e,t){if(!i[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=i[e]={exports:{}},o[e][0].call(r.exports,function(t){return a(o[e][1][t]||t)},r,r.exports,n,o,i,s)}return i[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,r){"use strict";var n=!1;function o(t){this.id=t=null==t?"":t}function i(t){return new o(t)}o.prototype.enable=function(){this.enabled=!0},o.prototype.debug=function(t){n&&console.log(this.id+"/debug: "+t)},o.prototype.info=function(t){n&&console.log(this.id+"/info: "+t)},o.prototype.warn=function(t){n&&console.log(this.id+"/warn: "+t)},o.prototype.error=function(t){n&&console.log(this.id+"/error: "+t)},i.enable=function(){n=!0},e.exports=i},{}],2:[function(t,e,r){"use strict";e.exports={isArray:function(t){return null!=t&&"[object Array]"===Object.prototype.toString.call(t)}}},{}],3:[function(t,e,r){"use strict";var n=t("superagent");function o(){}function i(t,e){var r=t,n=e=e||{},n=(null!=(n=n.qs)&&(r=r.query(n)),t),r=e,r=(null!=(r=r.headers)&&(n=n.set(r)),t),n=e;return null!=(n=n.auth)&&(r=r.auth(n.user||n.username,n.pass||n.password)),n=t,null!=(r=e)&&null!=(r=r.body)&&(n=n.send(r)),r=t,null!=(n=e)&&null!=(n=n.form)&&(r=(r=r.set("content-type","application/x-www-form-urlencoded")).send(n)),n=t,null!=(r=e)&&!0===r.withCredentials&&n.withCredentials(),t}function s(t){return t.body=t.text,t.statusCode=t.status,t}function a(r){return function(t,e){if(t){if(!e)return r(t);r(null,s(e))}else r(null,s(e))}}o.prototype.get=function(t,e,r){return i(n.get(t),e).end(a(r))},o.prototype.post=function(t,e,r){return i(n.post(t),e).end(a(r))},o.prototype.put=function(t,e,r){return i(n.put(t),e).end(a(r))},o.prototype.patch=function(t,e,r){return i(n.patch(t),e).end(a(r))},o.prototype.del=function(t,e,r){return i(n.del(t),e).end(a(r))},e.exports=new o},{superagent:57}],4:[function(t,e,r){"use strict";var o={startsWith:function(t,e){return""===e||null!=t&&null!=e&&(t=String(t),e=String(e),t.length>=e.length&&t.slice(0,e.length)===e)},endsWith:function(t,e){return""===e||null!=t&&null!=e&&(t=String(t),e=String(e),t.length>=e.length&&t.slice(t.length-e.length)===e)},splice:function(t,e,r,n){t=o.chars(t);return t.splice(~~e,~~r,n),t.join("")},contains:function(t,e){return""===e||null!=t&&-1!==String(t).indexOf(e)},chars:function(t){return null==t?[]:String(t).split("")}};e.exports=o},{}],5:[function(t,e,r){"use strict";var n=t("resolve-url");r.resolve=function(t,e){return n(t,e)}},{"resolve-url":54}],6:[function(t,e,r){"use strict";var n=t("minilog"),t=t("./errors"),o=t.errors,i=t.createError,s=n("traverson");r.abortTraversal=function(){s.debug("aborting link traversal"),this.aborted=!0,this.currentRequest&&(s.debug("request in progress. trying to abort it, too."),this.currentRequest.abort())},r.registerAbortListener=function(t,e){t.currentRequest&&t.currentRequest.on("abort",function(){r.callCallbackOnAbort(t)})},r.callCallbackOnAbort=function(t){s.debug("link traversal aborted"),t.callbackHasBeenCalledAfterAbort||(t.callbackHasBeenCalledAfterAbort=!0,t.callback(r.abortError(),t))},r.abortError=function(){var t=i("Link traversal process has been aborted.",o.TraversalAbortedError);return t.aborted=!0,t}},{"./errors":9,minilog:1}],7:[function(t,e,r){"use strict";t("minilog")("traverson"),t("./abort_traversal"),t("./transforms/apply_transforms"),t("./http_requests"),t("./is_continuation");var i=t("./walker"),s=t("./transforms/check_http_status"),n=t("./transforms/continuation_to_doc"),o=t("./transforms/continuation_to_response"),a=t("./transforms/convert_embedded_doc_to_response"),u=t("./transforms/extract_doc"),c=t("./transforms/extract_response"),l=t("./transforms/extract_url"),p=t("./transforms/fetch_last_resource"),f=t("./transforms/execute_last_http_request"),h=t("./transforms/execute_last_http_request_for_convert_response"),d=t("./transforms/parse"),y=t("./transforms/parse_link_header");function g(t,e,r,n){var o=t.convertResponseToObject?[h,s,d,y,u]:[f];t.lastMethod=r,i.walk(t,o,n)}function m(t){return{abort:t.abortTraversal}}r.get=function(t,e){var r;return t.lastMethodName="GET",r=t.convertResponseToObject?[n,p,s,d,y,u]:[o,p,a,c],i.walk(t,r,e),m(t)},r.getUrl=function(t,e){return i.walk(t,[l],e),m(t)},r.post=function(t,e){return t.lastMethodName="POST",g(t,t.requestModuleInstance,t.requestModuleInstance.post,e),m(t)},r.put=function(t,e){return t.lastMethodName="PUT",g(t,t.requestModuleInstance,t.requestModuleInstance.put,e),m(t)},r.patch=function(t,e){return t.lastMethodName="PATCH",g(t,t.requestModuleInstance,t.requestModuleInstance.patch,e),m(t)},r.delete=function(t,e){return t.lastMethodName="DELETE",g(t,t.requestModuleInstance,t.requestModuleInstance.del,e),m(t)}},{"./abort_traversal":6,"./http_requests":10,"./is_continuation":11,"./transforms/apply_transforms":18,"./transforms/check_http_status":19,"./transforms/continuation_to_doc":20,"./transforms/continuation_to_response":21,"./transforms/convert_embedded_doc_to_response":22,"./transforms/execute_last_http_request":24,"./transforms/execute_last_http_request_for_convert_response":25,"./transforms/extract_doc":26,"./transforms/extract_response":27,"./transforms/extract_url":28,"./transforms/fetch_last_resource":29,"./transforms/parse":32,"./transforms/parse_link_header":33,"./walker":39,minilog:1}],8:[function(t,e,r){"use strict";var n=t("minilog"),o=t("request"),a=t("util"),i=t("./actions"),s=t("./abort_traversal").abortTraversal,u=t("./errors"),c=u.errors,l=u.createError,p=t("./media_type_registry"),f=t("./media_types"),h=t("./merge_recursive"),d=n("traverson");function y(t,e){this.mediaType=t||f.CONTENT_NEGOTIATION,this.linkType=e||"link-rel",this.adapter=this._createAdapter(this.mediaType),this.autoHeaders=!0,this.contentNegotiation=!0,this.rawPayloadFlag=!1,this.convertResponseToObjectFlag=!1,this.links=[],this.jsonParser=JSON.parse,this.requestModuleInstance=o,this.requestOptions={},this.resolveRelativeFlag=!1,this.preferEmbedded=!1,this.lastTraversalState=null,this.continuation=null}function g(t,e){e={aborted:!1,adapter:t.adapter||null,body:null!==e?e:null,callbackHasBeenCalledAfterAbort:!1,autoHeaders:t.setsAutoHeaders(),contentNegotiation:t.doesContentNegotiation(),continuation:null,rawPayload:t.sendsRawPayload(),convertResponseToObject:t.convertsResponseToObject(),links:t.links,jsonParser:t.getJsonParser(),requestModuleInstance:t.getRequestLibrary(),requestOptions:t.getRequestOptions(),resolveRelative:t.doesResolveRelative(),preferEmbedded:t.doesPreferEmbeddedResources(),startUrl:t.startUrl,step:{url:t.startUrl,index:0},templateParameters:t.getTemplateParameters()};return e.abortTraversal=s.bind(e),t.continuation&&(e.continuation=t.continuation,e.step=t.continuation.step,t.continuation=null),e}function m(r,n,o,i){return function(t,e){return t?o(t):o(null,e,{continue:function(){if(n)return d.debug("> continuing finished traversal process"),r.continuation={step:n.step,action:i},r.continuation.step.index=0,e=n,(t=r).aborted=!1,t.adapter=e.adapter,t.body=e.body,t.callbackHasBeenCalledAfterAbort=!1,t.autoHeaders=e.autoHeaders,t.contentNegotiation=e.contentNegotiation,t.rawPayload=e.rawPayload,t.convertResponseToObjectFlag=e.convertResponseToObject,t.links=[],t.jsonParser=e.jsonParser,t.requestModuleInstance=e.requestModuleInstance,t.requestOptions=e.requestOptions,t.resolveRelativeFlag=e.resolveRelative,t.preferEmbedded=e.preferEmbedded,t.startUrl=e.startUrl,t.templateParameters=e.templateParameters,r;var t,e;throw l("No traversal state to continue from.",c.InvalidStateError)}})}}function b(t){return a.isArray(t)?v(t):"object"==typeof t?h(null,t):t}function v(t){return t&&t.slice(0)}y.prototype._createAdapter=function(t){var e=p.get(t);if(e)return d.debug("creating new "+e.name),new e(d);throw l("Unknown or unsupported media type: "+t,c.UnsupportedMediaType)},y.prototype.newRequest=function(){var t=new y(this.getMediaType(),this.getLinkType());return t.useAutoHeaders(this.setsAutoHeaders()),t.contentNegotiation=this.doesContentNegotiation(),t.convertResponseToObject(this.convertsResponseToObject()),t.from(v(this.getFrom())),t.withTemplateParameters(b(this.getTemplateParameters())),t.withRequestOptions(b(this.getRequestOptions())),t.withRequestLibrary(this.getRequestLibrary()),t.parseResponseBodiesWith(this.getJsonParser()),t.resolveRelative(this.doesResolveRelative()),t.preferEmbeddedResources(this.doesPreferEmbeddedResources()),t.continuation=this.continuation,t},y.prototype.setMediaType=function(t){return this.mediaType=t||f.CONTENT_NEGOTIATION,this.adapter=this._createAdapter(t),this.contentNegotiation=t===f.CONTENT_NEGOTIATION,this},y.prototype.getLinkType=function(){return this.linkType},y.prototype.json=function(){return this.setMediaType(f.JSON),this},y.prototype.jsonHal=function(){return this.setMediaType(f.JSON_HAL),this},y.prototype.useContentNegotiation=function(){return this.setMediaType(f.CONTENT_NEGOTIATION),this.contentNegotiation=!0,this},y.prototype.from=function(t){return this.startUrl=t,this},y.prototype.follow=function(){for(var t=Array.prototype.slice.apply(1===arguments.length&&a.isArray(arguments[0])?arguments[0]:arguments),e=0;e<t.length;e++)"string"==typeof t[e]&&(t[e]={type:this.linkType,value:t[e]});return this.links=this.links.concat(t),this},y.prototype.followLocationHeader=function(){return this.links.push({type:"header",value:"location"}),this},y.prototype.walk=y.prototype.follow,y.prototype.withTemplateParameters=function(t){return this.templateParameters=t,this},y.prototype.withRequestOptions=function(t){return this.requestOptions=t,this},y.prototype.addRequestOptions=function(t){if(a.isArray(this.requestOptions)&&a.isArray(t))for(var e=this.requestOptions,r=t,n=0;n<Math.max(e.length,r.length);n++)e[n]=h(e[n],r[n]);else if("object"==typeof this.requestOptions&&a.isArray(t))this.requestOptions=function(t,e){for(var r=[],n=0;n<e.length;n++)r[n]=h(e[n],t);return r}(this.requestOptions,t);else if(a.isArray(this.requestOptions)&&"object"==typeof t)for(var o=this.requestOptions,i=t,s=0;s<o.length;s++)h(o[s],i);else h(this.requestOptions,t);return this},y.prototype.withRequestLibrary=function(t){return this.requestModuleInstance=t,this},y.prototype.parseResponseBodiesWith=function(t){return this.jsonParser=t,this},y.prototype.disableAutoHeaders=function(){return this.useAutoHeaders(!1)},y.prototype.enableAutoHeaders=function(){return this.useAutoHeaders(!0)},y.prototype.useAutoHeaders=function(t){return this.autoHeaders=!!(t=null==t?!0:t),this},y.prototype.sendRawPayload=function(t){return this.rawPayloadFlag=!!(t=null==t?!0:t),this},y.prototype.convertResponseToObject=function(t){return this.convertResponseToObjectFlag=!!(t=null==t?!0:t),this},y.prototype.resolveRelative=function(t){return this.resolveRelativeFlag=!!(t=null==t?!0:t),this},y.prototype.preferEmbeddedResources=function(t){return this.preferEmbedded=!!(t=null==t?!0:t),this},y.prototype.getMediaType=function(){return this.mediaType},y.prototype.getFrom=function(){return this.startUrl},y.prototype.getTemplateParameters=function(){return this.templateParameters},y.prototype.getRequestOptions=function(){return this.requestOptions},y.prototype.getRequestLibrary=function(){return this.requestModuleInstance},y.prototype.getJsonParser=function(){return this.jsonParser},y.prototype.setsAutoHeaders=function(){return this.autoHeaders},y.prototype.sendsRawPayload=function(){return this.rawPayloadFlag},y.prototype.convertsResponseToObject=function(){return this.convertResponseToObjectFlag},y.prototype.doesResolveRelative=function(){return this.resolveRelativeFlag},y.prototype.doesPreferEmbeddedResources=function(){return this.preferEmbedded},y.prototype.doesContentNegotiation=function(){return this.contentNegotiation},y.prototype.get=function(t){d.debug("initiating traversal (get)");var e=g(this);return i.get(e,m(this,e,t,"get"))},y.prototype.getResource=function(t){d.debug("initiating traversal (getResource)"),this.convertResponseToObjectFlag=!0;var e=g(this);return i.get(e,m(this,e,t,"getResource"))},y.prototype.getUri=y.prototype.getUrl=function(t){d.debug("initiating traversal (getUrl)");var e=g(this);return i.getUrl(e,m(this,e,t,"getUrl"))},y.prototype.post=function(t,e){d.debug("initiating traversal (post)");t=g(this,t);return i.post(t,m(this,t,e,"post"))},y.prototype.put=function(t,e){d.debug("initiating traversal (put)");t=g(this,t);return i.put(t,m(this,t,e,"put"))},y.prototype.patch=function(t,e){d.debug("initiating traversal (patch)");t=g(this,t);return i.patch(t,m(this,t,e,"patch"))},y.prototype.del=y.prototype.delete=function(t){d.debug("initiating traversal (delete)");var e=g(this);return i.delete(e,m(this,e,t,"delete"))},y.prototype.linkHeader=function(){return this.linkType="link-header",this},e.exports=y},{"./abort_traversal":6,"./actions":7,"./errors":9,"./media_type_registry":13,"./media_types":14,"./merge_recursive":15,minilog:1,request:3,util:2}],9:[function(t,e,r){"use strict";e.exports={errors:{HTTPError:"HTTPError",InvalidArgumentError:"InvalidArgumentError",InvalidStateError:"InvalidStateError",JSONError:"JSONError",JSONPathError:"JSONPathError",LinkError:"LinkError",TraversalAbortedError:"TraversalAbortedError",UnsupportedMediaType:"UnsupportedMediaTypeError"},createError:function(t,e,r){t=new Error(t);return t.name=e,r&&(t.data=r),t}}},{}],10:[function(e,t,r){!function(h){!function(){"use strict";var s=e("minilog")("traverson"),a=e("./abort_traversal"),u=e("./transforms/detect_content_type"),t=e("./errors"),c=t.errors,l=t.createError,p=e("./transforms/get_options_for_step"),f=h&&Object.hasOwnProperty.call(h,"nextTick");r.fetchResource=function(t,e){var r,n,o,i;if(s.debug("fetching resource for next step"),!t.step.url)return t.step.doc?(s.debug("resource for next step has already been fetched, using embedded"),f?h.nextTick(function(){e(null,t)}):e(null,t)):((r=l("Can not process step.",c.InvalidStateError)).step=t.step,f?h.nextTick(function(){e(r,t)}):e(r,t));s.debug("fetching resource from",t.step.url),o=e,i=p(n=t),s.debug("HTTP GET request to",n.step.url),s.debug("options",i),n.mostRecentHttpMethodName="GET",n.currentRequest=n.requestModuleInstance.get(n.step.url,i,function(t,e,r){return s.debug("HTTP GET request to",n.step.url,"returned"),n.currentRequest=null,r&&!e.body&&(e.body=r),n.step.response=e,t?o(t,n):(s.debug("request to",n.step.url,"finished without error (",e.statusCode,")"),u(n,o)?o(null,n):void 0)}),a.registerAbortListener(n,o)},r.executeHttpRequest=function(n,t,e,o,i){var r=p(n);null!==n.body&&void 0!==n.body&&(r.body=n.rawPayload||r.jsonReplacer?n.body:JSON.stringify(n.body)),s.debug("HTTP",o,"request to",n.step.url),s.debug("options",r),n.mostRecentHttpMethodName=o,n.currentRequest=e.call(t,n.step.url,r,function(t,e,r){return s.debug("HTTP",o,"request to",n.step.url,"returned"),n.currentRequest=null,r&&!e.body&&(e.body=r),n.step.response=e,t?i(t):i(null,e)}),a.registerAbortListener(n,i)}}.call(this)}.call(this,e("_process"))},{"./abort_traversal":6,"./errors":9,"./transforms/detect_content_type":23,"./transforms/get_options_for_step":31,_process:53,minilog:1}],11:[function(t,e,r){"use strict";e.exports=function(t){return t.continuation&&t.step&&t.step.response}},{}],12:[function(t,e,r){"use strict";t("minilog");var n,o=t("underscore.string");try{n=t("jsonpath-plus")}catch(t){n=!1,console.warn("Could not require jsonpath-plus, JSONPath support is not available.")}var i=t("./errors"),s=i.errors,a=i.createError,u=t("./parse_link_header_value");function c(t){this.log=t}c.mediaType="application/json",c.prototype.findNextStep=function(t,e){var r=e;if(null==r)throw a("Link object is null or undefined.",s.InvalidArgumentError);if("object"!=typeof r)throw a("Links must be objects, not "+typeof r+".",s.InvalidArgumentError,r);if(!r.type)throw a("Link objects has no type attribute.",s.InvalidArgumentError,r);var n=t.lastStep.doc;switch(this.log.debug("resolving link",e),e.type){case"link-rel":return this._handleLinkRel(n,e);case"header":return this._handleHeader(t.lastStep.response,e);case"link-header":return this._handleLinkHeader(t.lastStep.response,e);default:throw a("Link objects with type "+e.type+" are not supported by this adapter.",s.InvalidArgumentError,e)}},c.prototype._handleLinkRel=function(t,e){e=e.value;if(this.log.debug("looking for link-rel",e,"in doc",t),this._testJSONPath(e))return{url:this._resolveJSONPath(t,e)};if(t[e])return{url:t[e]};throw a("Could not find property "+e+" in document.",s.LinkError,t)},c.prototype._testJSONPath=function(t){return o.startsWith(t,"$.")||o.startsWith(t,"$[")},c.prototype._resolveJSONPath=function(t,e){if(!n)throw a("JSONPath support is not available.");var r=n({json:t,path:e});if(1!==r.length)throw 1<r.length?a("JSONPath expression "+e+" returned more than one match in document:\n"+JSON.stringify(t),s.JSONPathError,t):a("JSONPath expression "+e+" returned no match in document:\n"+JSON.stringify(t),s.JSONPathError,t);r=r[0];if(!r)throw a("JSONPath expression "+e+" was resolved but the result was null, undefined or an empty string in document:\n"+JSON.stringify(t),s.JSONPathError,t);if("string"!=typeof r)throw a("JSONPath expression "+e+' was resolved but the result is not a property of type string. Instead it has type "'+typeof r+'" in document:\n'+JSON.stringify(t),s.JSONPathError,t);return r},c.prototype._handleHeader=function(t,e){if("location"!==e.value)throw a("Link objects with type header and value "+e.value+" are not supported by this adapter.",s.InvalidArgumentError,e);e=t.headers.location;if(e)return{url:e};throw a("Following the location header but there was no location header in the last response.",s.LinkError,t.headers)},c.prototype._handleLinkHeader=function(t,e){if(!t.headers.link)throw a("There was no link header in the last response.",s.InvalidArgumentError,e);t=u(t.headers.link);if(t[e.value])return{url:t[e.value].url};throw a("Link with relation "+e.value+" not found in link header.",s.InvalidArgumentError,e)},e.exports=c},{"./errors":9,"./parse_link_header_value":17,"jsonpath-plus":51,minilog:1,"underscore.string":4}],13:[function(t,e,r){"use strict";var n=t("./media_types"),o={};r.register=function(t,e){o[t]=e},r.get=function(t){return o[t]},r.register(n.CONTENT_NEGOTIATION,t("./negotiation_adapter")),r.register(n.JSON,t("./json_adapter"))},{"./json_adapter":12,"./media_types":14,"./negotiation_adapter":16}],14:[function(t,e,r){"use strict";t=t("./json_adapter");e.exports={CONTENT_NEGOTIATION:"content-negotiation",JSON:t.mediaType,JSON_HAL:"application/hal+json"}},{"./json_adapter":12}],15:[function(t,e,r){"use strict";function i(t,e){for(var r in!t&&e&&(t={}),e)e.hasOwnProperty(r)&&(n=t,"object"==typeof(o=e)[r=r]?(n[r]&&"object"==typeof n[r]||(n[r]={}),i(n[r],o[r])):n[r]=o[r]);var n,o;return t}e.exports=i},{}],16:[function(t,e,r){"use strict";var t=t("./errors"),n=t.errors,o=t.createError;function i(t){}i.prototype.findNextStep=function(t,e){throw o("Content negotiation did not happen",n.InvalidStateError)},e.exports=i},{"./errors":9}],17:[function(t,e,r){var n=t("./merge_recursive");function o(t){try{var e=t.split(";"),r=e.shift().replace(/[<>]/g,""),n=e.reduce(i,{});return n.url=r,n}catch(t){return null}}function i(t,e){e=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e&&(t[e[1]]=e[2]),t}function s(t){return t&&t.rel}function a(e,r){return r.rel.split(/\s+/).forEach(function(t){e[t]=n({rel:t},r)}),e}e.exports=function(t){return t?t.split(/,\s*</).map(o).filter(s).reduce(a,{}):null}},{"./merge_recursive":15}],18:[function(t,e,r){!function(u){!function(){"use strict";var s=t("minilog")("traverson"),a=u&&Object.hasOwnProperty.call(u,"nextTick");e.exports=function e(r,t,n){s.debug("applying",r.length,"transforms");for(var o=0;o<r.length;o++){var i=r[o];if(s.debug("next transform",i),i.isAsync)return i(t,function(t){e(r.slice(o+1),t,n)});if(!i(t))return void s.debug("transform has failed or was a final transform")}return s.debug("all transformations done, starting next step"),a?u.nextTick(function(){n(t)}):n(t)}}.call(this)}.call(this,t("_process"))},{_process:53,minilog:1}],19:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../errors"),i=o.errors,s=o.createError,a=t("../is_continuation");e.exports=function(t){if(a(t))return!0;if(n.debug("checking http status"),!t.step.response&&t.step.doc)return n.debug("found embedded document, assuming no HTTP request has been made"),!0;var e,r=t.step.response.statusCode;return r&&(r<200||300<=r)?(e=function(t,e){var r=s("HTTP "+t.mostRecentHttpMethodName+" request to "+t.step.url+" resulted in HTTP status code "+e+".",i.HTTPError),e=(r.url=t.step.url,r.httpStatus=e,t.step.response.body);r.body=e;try{r.doc=JSON.parse(e)}catch(t){}return r}(t,r),n.error("unexpected http status code"),n.error(e),t.callback(e),!1):(n.debug("http status code ok ("+r+")"),!0)}},{"../errors":9,"../is_continuation":11,minilog:1}],20:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../is_continuation");e.exports=function(t){return!o(t)||(n.debug("continuing from last traversal process (actions)"),t.continuation=null,t.callback(null,t.step.doc),!1)}},{"../is_continuation":11,minilog:1}],21:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("./convert_embedded_doc_to_response"),i=t("../is_continuation");e.exports=function(t){return!i(t)||(n.debug("continuing from last traversal process (actions)"),t.continuation=null,o(t),t.callback(null,t.step.response),!1)}},{"../is_continuation":11,"./convert_embedded_doc_to_response":22,minilog:1}],22:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){return!t.step.response&&t.step.doc&&(n.debug("faking HTTP response for embedded resource"),t.step.response={statusCode:200,body:JSON.stringify(t.step.doc),remark:"This is not an actual HTTP response. The resource you requested was an embedded resource, so no HTTP request was made to acquire it."}),!0}},{minilog:1}],23:[function(t,e,r){"use strict";var o=t("minilog")("traverson"),i=t("../media_type_registry"),t=t("../errors"),s=t.errors,a=t.createError;e.exports=function(t,e){if(t.contentNegotiation&&t.step.response&&t.step.response.headers&&t.step.response.headers["content-type"]){var r=t.step.response.headers["content-type"].split(/[; ]/)[0],n=(o.debug("found content type string",r),i.get(r));if(!n)return o.error("no adapter for content type",r),e(a("Unknown content type for content type detection: "+r,s.UnsupportedMediaType),t),!1;t.adapter=new n(o),o.debug("switched to media type adapter",t.adapter.name||t.adapter.constructor.name)}return!0}},{"../errors":9,"../media_type_registry":13,minilog:1}],24:[function(t,e,r){"use strict";t("minilog")("traverson");var n=t("../abort_traversal"),o=t("../http_requests");function i(t,e){if(t.aborted)return n.callCallbackOnAbort(t);o.executeHttpRequest(t,t.requestModuleInstance,t.lastMethod,t.lastMethodName,t.callback)}i.isAsync=!0,e.exports=i},{"../abort_traversal":6,"../http_requests":10,minilog:1}],25:[function(t,e,r){"use strict";var o=t("minilog")("traverson"),i=t("../abort_traversal"),s=t("../http_requests");function n(r,n){if(r.aborted)return i.callCallbackOnAbort(r);s.executeHttpRequest(r,r.requestModuleInstance,r.lastMethod,r.lastMethodName,function(t,e){if(t)return t.aborted||(o.debug("error while executing http request, processing step",r.step),o.error(t)),r.callback(t);n(r)})}n.isAsync=!0,e.exports=n},{"../abort_traversal":6,"../http_requests":10,minilog:1}],26:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){return n.debug("walker.walk has finished"),t.callback(null,t.step.doc),!1}},{minilog:1}],27:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){return n.debug("walker.walk has finished"),t.callback(null,t.step.response),!1}},{minilog:1}],28:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("url"),t=t("../errors"),i=t.errors,s=t.createError;e.exports=function(t){return n.debug("walker.walk has finished"),t.step.url?t.callback(null,t.step.url):t.step.doc&&t.step.doc._links&&t.step.doc._links.self&&t.step.doc._links.self.href?t.callback(null,o.resolve(t.startUrl,t.step.doc._links.self.href)):t.callback(s('You requested an URL but the last resource is an embedded resource and has no URL of its own (that is, it has no link with rel="self"',i.LinkError))}},{"../errors":9,minilog:1,url:5}],29:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../abort_traversal"),i=t("../http_requests");function s(t,r){if(t.aborted)return o.callCallbackOnAbort(t);i.fetchResource(t,function(t,e){if(n.debug("fetchResource returned (fetchLastResource)."),t)return t.aborted||(n.debug("error while executing http request"),n.error(t)),e.callback(t);r(e)})}s.isAsync=!0,e.exports=s},{"../abort_traversal":6,"../http_requests":10,minilog:1}],30:[function(e,r,t){!function(l){!function(){"use strict";var i=e("minilog")("traverson"),s=e("../abort_traversal"),a=e("../is_continuation"),u=e("../http_requests"),c=l&&Object.hasOwnProperty.call(l,"nextTick");function t(t,e){var r,n,o;a(t)?(r=t,n=e,i.debug("continuing from last traversal process (walker)"),c?l.nextTick(function(){n(r)}):n(r)):(o=e,(e=t).aborted?s.callCallbackOnAbort(e):u.fetchResource(e,function(t,e){if(i.debug("fetchResource returned"),t)return t.aborted||(i.debug("error while executing http request"),i.error(t)),e.callback(t);o(e)}))}t.isAsync=!0,r.exports=t}.call(this)}.call(this,e("_process"))},{"../abort_traversal":6,"../http_requests":10,"../is_continuation":11,_process:53,minilog:1}],31:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("util"),i=t("../merge_recursive");function s(t,e){return t.form?{Accept:e}:{Accept:e,"Content-Type":e}}e.exports=function(t){var e,r=t.requestOptions;return o.isArray(t.requestOptions)&&(r=t.requestOptions[t.step.index]||{}),t.autoHeaders&&(e=r,(t=(t=t).adapter.constructor.mediaType||t.adapter.mediaType)&&(e.headers?e.headers=i(s(e,t),e.headers):e.headers=s(e,t))),n.debug("options",r),r}},{"../merge_recursive":15,minilog:1,util:2}],32:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../errors"),i=o.errors,s=o.createError,a=t("../is_continuation");e.exports=function(e){if(a(e)&&(n.debug("continuing from last traversal process (transforms/parse)"),"getResource"===e.continuation.action))return!0;if(e.step.doc)return n.debug("no parsing necessary, probably an embedded document"),!0;try{return r=e,n.debug("parsing response body"),r.requestOptions&&r.requestOptions.jsonReviver?r.step.doc=r.step.response.body:r.step.doc=r.jsonParser(r.step.response.body),!0}catch(t){r=e,e=t;return"SyntaxError"===t.name&&(e=function(t,e){var r=s("The document at "+t+" could not be parsed as JSON: "+e,i.JSONError,e);return r.url=t,r.body=e,r}(r.step.url,r.step.response.body)),n.error("parsing failed"),n.error(e),r.callback(e),!1}var r}},{"../errors":9,"../is_continuation":11,minilog:1}],33:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../parse_link_header_value");e.exports=function(e){if(!(e.step.doc&&e.step.response&&e.step.response.headers&&e.step.response.headers.link))return!0;try{var r=o(e.step.response.headers.link);return e.step.doc._linkHeaders=r,!0}catch(t){return r=e,e=t,n.error("failed to parse link header"),n.error(e),r.callback(e),!1}}},{"../parse_link_header_value":17,minilog:1}],34:[function(t,e,r){"use strict";var n=t("../is_continuation");e.exports=function(t){return!!n(t)||!(t.continuation=null)}},{"../is_continuation":11}],35:[function(t,e,r){"use strict";var n=t("../is_continuation");e.exports=function(t){return!!n(t)||!(t.lastStep=null)}},{"../is_continuation":11}],36:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("underscore.string"),i=t("url"),s=/https?:\/\//i;e.exports=function(t){return t.step.url&&0!==t.step.url.search(s)&&(n.debug("found non full qualified URL"),t.resolveRelative&&t.lastStep&&t.lastStep.url?(n.debug("resolving URL relative"),o.startsWith(t.step.url,"/")&&o.endsWith(t.lastStep.url,"/")&&(t.step.url=o.splice(t.step.url,0,1)),t.step.url=t.lastStep.url+t.step.url):t.step.url=i.resolve(t.startUrl,t.step.url)),!0}},{minilog:1,"underscore.string":4,url:5}],37:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("underscore.string"),i=t("url-template"),s=t("util");e.exports=function(t){var e;return t.step.url&&(e=t.templateParameters,e=(e=s.isArray(e)?e[t.step.index]:e)||{},o.contains(t.step.url,"{")&&(n.debug("resolving URI template"),e=i.parse(t.step.url).expand(e),n.debug("resolved to",e),t.step.url=e)),!0}},{minilog:1,"underscore.string":4,"url-template":66,util:2}],38:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){var e=t.links[t.step.index];return n.debug("next link:",e),t.lastStep=t.step,t.step=function(e,t){try{return e.adapter.findNextStep(e,t)}catch(t){return n.error("could not find next step"),n.error(t),e.callback(t),null}}(t,e),!!t.step&&(n.debug("found next step",t.step),t.step.index=t.lastStep.index+1,!0)}},{minilog:1}],39:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("./abort_traversal"),i=t("./transforms/apply_transforms"),s=(t("./is_continuation"),t("./transforms/resolve_uri_template")),a=[t("./transforms/fetch_resource"),t("./transforms/reset_last_step"),t("./transforms/check_http_status"),t("./transforms/parse"),t("./transforms/switch_to_next_step"),s,t("./transforms/resolve_next_url"),t("./transforms/reset_continuation")];function u(t){return t.step.index<t.links.length}function c(t){return t.aborted}r.walk=function(t,e,r){s(t)&&(n.debug("starting to follow links"),e=e||[],t.callback=r,function e(t,r){n.debug("processing next step");if(u(t)&&!c(t))i(a,t,function(t){n.debug("successfully processed step"),e(t,r)});else{if(c(t))return o.callCallbackOnAbort(t);n.debug("link array exhausted"),i(r,t,function(t){return t.callback()})}}(t,e))}},{"./abort_traversal":6,"./is_continuation":11,"./transforms/apply_transforms":18,"./transforms/check_http_status":19,"./transforms/fetch_resource":30,"./transforms/parse":32,"./transforms/reset_continuation":34,"./transforms/reset_last_step":35,"./transforms/resolve_next_url":36,"./transforms/resolve_uri_template":37,"./transforms/switch_to_next_step":38,minilog:1}],40:[function(t,e,r){},{}],41:[function(t,e,r){"use strict";var n=t("get-intrinsic"),o=t("./"),i=o(n("String.prototype.indexOf"));e.exports=function(t,e){e=n(t,!!e);return"function"==typeof e&&-1<i(t,".prototype.")?o(e):e}},{"./":42,"get-intrinsic":47}],42:[function(t,e,r){"use strict";var n=t("function-bind"),t=t("get-intrinsic"),o=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||n.call(i,o),a=t("%Object.getOwnPropertyDescriptor%",!0),u=t("%Object.defineProperty%",!0),c=t("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}e.exports=function(t){var e=s(n,i,arguments);return a&&u&&a(e,"length").configurable&&u(e,"length",{value:1+c(0,t.length-(arguments.length-1))}),e};function l(){return s(n,o,arguments)}u?u(e.exports,"apply",{value:l}):e.exports.apply=l},{"function-bind":46,"get-intrinsic":47}],43:[function(t,e,r){function n(t){if(t){var e,r=t;for(e in n.prototype)r[e]=n.prototype[e];return r}}void 0!==e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],44:[function(t,e,r){((e.exports=n).default=n).stable=o,n.stableStringify=o;var f="[...]",h="[Circular]",d=[],s=[];function a(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function n(t,e,r,n){var o;!function t(e,r,n,o,i,s,a){s+=1;var u;if("object"==typeof e&&null!==e){for(u=0;u<o.length;u++)if(o[u]===e)return void y(h,e,r,i);if(void 0!==a.depthLimit&&s>a.depthLimit)y(f,e,r,i);else if(void 0!==a.edgesLimit&&n+1>a.edgesLimit)y(f,e,r,i);else{if(o.push(e),Array.isArray(e))for(u=0;u<e.length;u++)t(e[u],u,u,o,e,s,a);else{var c=Object.keys(e);for(u=0;u<c.length;u++){var l=c[u];t(e[l],l,u,o,e,s,a)}}o.pop()}}}(t,"",0,[],void 0,0,n=void 0===n?a():n);try{o=0===s.length?JSON.stringify(t,e,r):JSON.stringify(t,u(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var i=d.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return o}function y(t,e,r,n){var o=Object.getOwnPropertyDescriptor(n,r);void 0!==o.get?o.configurable?(Object.defineProperty(n,r,{value:t}),d.push([n,r,e,o])):s.push([e,r,t]):(n[r]=t,d.push([n,r,e]))}function g(t,e){return t<e?-1:e<t?1:0}function o(t,e,r,n){var o,n=function t(e,r,n,o,i,s,a){s+=1;var u;if("object"==typeof e&&null!==e){for(u=0;u<o.length;u++)if(o[u]===e)return void y(h,e,r,i);try{if("function"==typeof e.toJSON)return}catch(t){return}if(void 0!==a.depthLimit&&s>a.depthLimit)y(f,e,r,i);else if(void 0!==a.edgesLimit&&n+1>a.edgesLimit)y(f,e,r,i);else{if(o.push(e),Array.isArray(e))for(u=0;u<e.length;u++)t(e[u],u,u,o,e,s,a);else{var c={},l=Object.keys(e).sort(g);for(u=0;u<l.length;u++){var p=l[u];t(e[p],p,u,o,e,s,a),c[p]=e[p]}if(void 0===i)return c;d.push([i,r,e]),i[r]=c}o.pop()}}}(t,"",0,[],void 0,0,n=void 0===n?a():n)||t;try{o=0===s.length?JSON.stringify(n,e,r):JSON.stringify(n,u(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var i=d.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return o}function u(o){return o=void 0!==o?o:function(t,e){return e},function(t,e){if(0<s.length)for(var r=0;r<s.length;r++){var n=s[r];if(n[1]===t&&n[0]===e){e=n[2],s.splice(r,1);break}}return o.call(this,t,e)}}},{}],45:[function(t,e,r){"use strict";var u=Array.prototype.slice,c=Object.prototype.toString;e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==c.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,t,o=u.call(arguments,1),i=Math.max(0,r.length-o.length),s=[],a=0;a<i;a++)s.push("$"+a);return n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){var t;return this instanceof n?(t=r.apply(this,o.concat(u.call(arguments))),Object(t)===t?t:this):r.apply(e,o.concat(u.call(arguments)))}),r.prototype&&((t=function(){}).prototype=r.prototype,n.prototype=new t,t.prototype=null),n}},{}],46:[function(t,e,r){"use strict";t=t("./implementation");e.exports=Function.prototype.bind||t},{"./implementation":45}],47:[function(t,e,r){"use strict";var n,f=SyntaxError,o=Function,h=TypeError,i=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(t){d=null}function s(){throw new h}function y(t){var e,r;return"%AsyncFunction%"===t?e=i("async function () {}"):"%GeneratorFunction%"===t?e=i("function* () {}"):"%AsyncGeneratorFunction%"===t?e=i("async function* () {}"):"%AsyncGenerator%"===t?(r=y("%AsyncGeneratorFunction%"))&&(e=r.prototype):"%AsyncIteratorPrototype%"===t&&(r=y("%AsyncGenerator%"))&&(e=c(r.prototype)),m[t]=e}var a=d?function(){try{return s}catch(t){try{return d(arguments,"callee").get}catch(t){return s}}}():s,u=t("has-symbols")(),c=Object.getPrototypeOf||function(t){return t.__proto__},g={},l="undefined"==typeof Uint8Array?n:c(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?c((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?c((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":f,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypeError%":h,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},u=t("function-bind"),v=t("has"),_=u.call(Function.call,Array.prototype.concat),w=u.call(Function.apply,Array.prototype.splice),O=u.call(Function.call,String.prototype.replace),S=u.call(Function.call,String.prototype.slice),x=u.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g;e.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new h("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new h('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/g,t))throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=S(t,0,1),r=S(t,-1);if("%"===e&&"%"!==r)throw new f("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new f("invalid intrinsic syntax, expected opening `%`");var o=[];return O(t,E,function(t,e,r,n){o[o.length]=r?O(n,T,"$1"):e||t}),o}(t),n=0<r.length?r[0]:"",o=function(t,e){var r,n=t;if(v(b,n)&&(n="%"+(r=b[n])[0]+"%"),v(m,n)){var o=m[n];if(void 0!==(o=o===g?y(n):o)||e)return{alias:r,name:n,value:o};throw new h("intrinsic "+t+" exists, but is not available. Please file an issue!")}throw new f("intrinsic "+t+" does not exist!")}("%"+n+"%",e),i=(o.name,o.value),s=!1,o=o.alias;o&&(n=o[0],w(r,_([0,1],o)));for(var a=1,u=!0;a<r.length;a+=1){var c=r[a],l=S(c,0,1),p=S(c,-1);if(('"'===l||"'"===l||"`"===l||'"'===p||"'"===p||"`"===p)&&l!==p)throw new f("property names with quotes must have matching quotes");if("constructor"!==c&&u||(s=!0),v(m,l="%"+(n+="."+c)+"%"))i=m[l];else if(null!=i){if(!(c in i)){if(e)return;throw new h("base intrinsic for "+t+" exists, but the property is not available.")}i=d&&a+1>=r.length?(u=!!(p=d(i,c)))&&"get"in p&&!("originalValue"in p.get)?p.get:i[c]:(u=v(i,c),i[c]),u&&!s&&(m[l]=i)}}return i}},{"function-bind":46,has:50,"has-symbols":48}],48:[function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=t("./shams");e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},{"./shams":49}],49:[function(t,e,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},{}],50:[function(t,e,r){"use strict";t=t("function-bind");e.exports=t.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":46}],51:[function(require,module,exports){var module;!function(glbl,require){"use strict";var isNode=module&&!!module.exports,allowedResultTypes=["value","path","pointer","parent","parentProperty","all"],moveToAnotherArray=(Array.prototype.includes||(Array.prototype.includes=function(t){return-1<this.indexOf(t)}),String.prototype.includes||(String.prototype.includes=function(t){return-1<this.indexOf(t)}),function(t,e,r){for(var n=0,o=t.length;n<o;n++)r(t[n])&&e.push(t.splice(n--,1)[0])}),vm=isNode?require("vm"):{runInNewContext:function(expr,context){var keys=Object.keys(context),funcs=[],code=(moveToAnotherArray(keys,funcs,function(t){return"function"==typeof context[t]}),funcs.reduce(function(t,e){return"var "+e+"="+context[e].toString()+";"+t},""));return code+=keys.reduce(function(t,e){return"var "+e+"="+JSON.stringify(context[e]).replace(/\u2028|\u2029/g,function(t){return"\\u202"+("\u2028"===t?"8":"9")})+";"+t},expr),eval(code)}};function push(t,e){return(t=t.slice()).push(e),t}function unshift(t,e){return(e=e.slice()).unshift(t),e}function NewError(t){this.avoidNew=!0,this.value=t,this.message='JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'}function JSONPath(t,e,r,n,o){if(!(this instanceof JSONPath))try{return new JSONPath(t,e,r,n,o)}catch(t){if(t.avoidNew)return t.value;throw t}"string"==typeof t&&(o=n,n=r,r=e,e=t,t={});var i=(t=t||{}).hasOwnProperty("json")&&t.hasOwnProperty("path");if(this.json=t.json||r,this.path=t.path||e,this.resultType=t.resultType&&t.resultType.toLowerCase()||"value",this.flatten=t.flatten||!1,this.wrap=!t.hasOwnProperty("wrap")||t.wrap,this.sandbox=t.sandbox||{},this.preventEval=t.preventEval||!1,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||n||null,this.otherTypeCallback=t.otherTypeCallback||o||function(){throw new Error("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==t.autostart){n=this.evaluate({path:i?t.path:e,json:i?t.json:r});if(n&&"object"==typeof n)return n;throw new NewError(n)}}JSONPath.prototype.evaluate=function(t,e,r,n){var o=this,i=this.flatten,s=this.wrap,a=this.parent,u=this.parentProperty;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(t=t||this.path)&&"object"==typeof t){if(!t.path)throw new Error('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');e=t.hasOwnProperty("json")?t.json:e,i=t.hasOwnProperty("flatten")?t.flatten:i,this.currResultType=t.hasOwnProperty("resultType")?t.resultType:this.currResultType,this.currSandbox=t.hasOwnProperty("sandbox")?t.sandbox:this.currSandbox,s=t.hasOwnProperty("wrap")?t.wrap:s,this.currPreventEval=t.hasOwnProperty("preventEval")?t.preventEval:this.currPreventEval,r=t.hasOwnProperty("callback")?t.callback:r,this.currOtherTypeCallback=t.hasOwnProperty("otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,a=t.hasOwnProperty("parent")?t.parent:a,u=t.hasOwnProperty("parentProperty")?t.parentProperty:u,t=t.path}if(a=a||null,u=u||null,(t=Array.isArray(t)?JSONPath.toPathString(t):t)&&e&&allowedResultTypes.includes(this.currResultType))return this._obj=e,n=JSONPath.toPathArray(t),"$"===n[0]&&1<n.length&&n.shift(),this._hasParentSelector=null,t=this._trace(n,e,["$"],a,u,r),(t=t.filter(function(t){return t&&!t.isParentSelector})).length?1!==t.length||s||Array.isArray(t[0].value)?t.reduce(function(t,e){e=o._getPreferredOutput(e);return i&&Array.isArray(e)?t=t.concat(e):t.push(e),t},[]):this._getPreferredOutput(t[0]):s?[]:void 0},JSONPath.prototype._getPreferredOutput=function(t){var e=this.currResultType;switch(e){case"all":return t.path="string"==typeof t.path?t.path:JSONPath.toPathString(t.path),t;case"value":case"parent":case"parentProperty":return t[e];case"path":return JSONPath.toPathString(t[e]);case"pointer":return JSONPath.toPointer(t.path)}},JSONPath.prototype._handleCallback=function(t,e,r){var n;e&&(n=this._getPreferredOutput(t),t.path="string"==typeof t.path?t.path:JSONPath.toPathString(t.path),e(n,r,t))},JSONPath.prototype._trace=function(t,e,r,n,o,i,s){var a,u=this;if(!t.length)return this._handleCallback(a={path:r,value:e,parent:n,parentProperty:o},i,"value"),a;var c=t[0],l=t.slice(1),p=[];function f(t){p.push(t)}function h(t){Array.isArray(t)?t.forEach(f):p.push(t)}if(("string"!=typeof c||s)&&e&&Object.prototype.hasOwnProperty.call(e,c))h(this._trace(l,e[c],push(r,c),e,c,i));else if("*"===c)this._walk(c,l,e,r,n,o,i,function(t,e,r,n,o,i,s,a){h(u._trace(unshift(t,r),n,o,i,s,a,!0))});else if(".."===c)h(this._trace(l,e,r,n,o,i)),this._walk(c,l,e,r,n,o,i,function(t,e,r,n,o,i,s,a){"object"==typeof n[t]&&h(u._trace(unshift(e,r),n[t],push(o,t),n,t,a))});else{if("^"===c)return this._hasParentSelector=!0,r.length?{path:r.slice(0,-1),expr:l,isParentSelector:!0}:[];if("~"===c)return a={path:push(r,c),value:o,parent:n,parentProperty:null},this._handleCallback(a,i,"property"),a;if("$"===c)h(this._trace(l,e,r,null,null,i));else if(/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(c))h(this._slice(c,l,e,r,n,o,i));else if(0===c.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(c,l,e,r,n,o,i,function(t,e,r,n,o,i,s,a){u._eval(e.replace(/^\?\((.*?)\)$/,"$1"),n[t],t,o,i,s)&&h(u._trace(unshift(t,r),n,o,i,s,a))})}else if("("===c[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");h(this._trace(unshift(this._eval(c,e,r[r.length-1],r.slice(0,-1),n,o),l),e,r,n,o,i))}else if("@"===c[0]){var d=!1,y=c.slice(1,-2);switch(y){case"scalar":e&&["object","function"].includes(typeof e)||(d=!0);break;case"boolean":case"string":case"undefined":case"function":typeof e===y&&(d=!0);break;case"number":typeof e===y&&isFinite(e)&&(d=!0);break;case"nonFinite":"number"!=typeof e||isFinite(e)||(d=!0);break;case"object":e&&typeof e===y&&(d=!0);break;case"array":Array.isArray(e)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(e,r,n,o);break;case"integer":e!==+e||!isFinite(e)||e%1||(d=!0);break;case"null":null===e&&(d=!0)}if(d)return this._handleCallback(a={path:r,value:e,parent:n,parentProperty:o},i,"value"),a}else if("`"===c[0]&&e&&Object.prototype.hasOwnProperty.call(e,c.slice(1))){t=c.slice(1);h(this._trace(l,e[t],push(r,t),e,t,i,!0))}else if(c.includes(","))for(var g=c.split(","),m=0;m<g.length;m++)h(this._trace(unshift(g[m],l),e,r,n,o,i));else!s&&e&&Object.prototype.hasOwnProperty.call(e,c)&&h(this._trace(l,e[c],push(r,c),e,c,i,!0))}if(this._hasParentSelector)for(var b=0;b<p.length;b++){var v=p[b];if(v.isParentSelector){var _=u._trace(v.expr,e,v.path,n,o,i);if(Array.isArray(_)){p[b]=_[0];for(var w=1,O=_.length;w<O;w++)b++,p.splice(b,0,_[w])}else p[b]=_}}return p},JSONPath.prototype._walk=function(t,e,r,n,o,i,s,a){var u,c,l;if(Array.isArray(r))for(u=0,c=r.length;u<c;u++)a(u,t,e,r,n,o,i,s);else if("object"==typeof r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&a(l,t,e,r,n,o,i,s)},JSONPath.prototype._slice=function(t,e,r,n,o,i,s){if(Array.isArray(r)){for(var a=r.length,t=t.split(":"),u=t[0]&&parseInt(t[0],10)||0,c=t[1]&&parseInt(t[1],10)||a,l=t[2]&&parseInt(t[2],10)||1,u=u<0?Math.max(0,u+a):Math.min(a,u),c=c<0?Math.max(0,c+a):Math.min(a,c),p=[],f=u;f<c;f+=l){var h=this._trace(unshift(f,e),r,n,o,i,s);Array.isArray(h)?h.forEach(function(t){p.push(t)}):p.push(h)}return p}},JSONPath.prototype._eval=function(e,t,r,n,o,i){if(!this._obj||!t)return!1;e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=i,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=o,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=r,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=JSONPath.toPathString(n.concat([r])),e=e.replace(/@path/g,"_$_path")),e.match(/@([\.\s\)\[])/)&&(this.currSandbox._$_v=t,e=e.replace(/@([\.\s\)\[])/g,"_$_v$1"));try{return vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},JSONPath.cache={},JSONPath.toPathString=function(t){for(var e=t,r="$",n=1,o=e.length;n<o;n++)/^(~|\^|@.*?\(\))$/.test(e[n])||(r+=/^[0-9*]+$/.test(e[n])?"["+e[n]+"]":"['"+e[n]+"']");return r},JSONPath.toPointer=function(t){for(var e=t,r="",n=1,o=e.length;n<o;n++)/^(~|\^|@.*?\(\))$/.test(e[n])||(r+="/"+e[n].toString().replace(/\~/g,"~0").replace(/\//g,"~1"));return r},JSONPath.toPathArray=function(t){var e=JSONPath.cache;if(e[t])return e[t].concat();var r=[],n=t.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/[\['](\??\(.*?\))[\]']/g,function(t,e){return"[#"+(r.push(e)-1)+"]"}).replace(/\['([^'\]]*)'\]/g,function(t,e){return"['"+e.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?![^\[]*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(t,e){return";"+e.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(t){var e=t.match(/#([0-9]+)/);return e&&e[1]?r[e[1]]:t});return e[t]=n,e[t]},JSONPath.eval=function(t,e,r){return JSONPath(r,e,t)},"function"==typeof define&&define.amd?define(function(){return JSONPath}):isNode?module.exports=JSONPath:(glbl.jsonPath={eval:JSONPath.eval},glbl.JSONPath=JSONPath)}(this||self,void 0===require?null:require)},{vm:67}],52:[function(r,n,i){var t="function"==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,v=t&&e&&"function"==typeof e.get?e.get:null,X=t&&Map.prototype.forEach,e="function"==typeof Set&&Set.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_=e&&t&&"function"==typeof t.get?t.get:null,K=e&&Set.prototype.forEach,w="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,S="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Y=Boolean.prototype.valueOf,s=Object.prototype.toString,Z=Function.prototype.toString,tt=String.prototype.match,x=String.prototype.slice,E=String.prototype.replace,a=String.prototype.toUpperCase,T=String.prototype.toLowerCase,l=RegExp.prototype.test,P=Array.prototype.concat,A=Array.prototype.join,et=Array.prototype.slice,o=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,p=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===N||"symbol")?Symbol.toStringTag:null,q=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&-1e3<t&&t<1e3||l.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-o(-t):o(t);if(n!==t)return t=String(n),n=x.call(e,t.length+1),E.call(t,r,"$&_")+"."+E.call(E.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}return E.call(e,r,"$&_")}var U=r("./util.inspect"),t=U.custom,M=J(t)?t:null;function L(t,e,r){r="double"===(r.quoteStyle||e)?'"':"'";return r+t+r}function F(t){return!("[object Array]"!==$(t)||R&&"object"==typeof t&&R in t)}function H(t){return!("[object RegExp]"!==$(t)||R&&"object"==typeof t&&R in t)}function J(t){if(N)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return 1;if(t&&"object"==typeof t&&j)try{return j.call(t),1}catch(t){}}n.exports=function n(r,t,o,i){var s=t||{};if(D(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');t=!D(s,"customInspect")||s.customInspect;if("boolean"!=typeof t&&"symbol"!==t)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&0<s.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(D(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var e=s.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function t(e,r){if(e.length>r.maxStringLength)return n=e.length-r.maxStringLength,n="... "+n+" more character"+(1<n?"s":""),t(x.call(e,0,r.maxStringLength),r)+n;var n=E.call(E.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rt);return L(n,"single",r)}(r,s);if("number"==typeof r){if(0===r)return 0<1/0/r?"0":"-0";var a=String(r);return e?I(r,a):a}if("bigint"==typeof r)return a=String(r)+"n",e?I(r,a):a;e=void 0===s.depth?5:s.depth;if(e<=(o=void 0===o?0:o)&&0<e&&"object"==typeof r)return F(r)?"[Array]":"[Object]";var u,c,l,p,f,h,a=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&0<t.indent))return null;r=A.call(Array(t.indent+1)," ")}return{base:r,prev:A.call(Array(e+1),r)}}(s,o);if(void 0===i)i=[];else if(0<=B(i,r))return"[Circular]";function d(t,e,r){return e&&(i=et.call(i)).push(e),r?(e={depth:s.depth},D(s,"quoteStyle")&&(e.quoteStyle=s.quoteStyle),n(t,e,o+1,i)):n(t,s,o+1,i)}if("function"==typeof r&&!H(r))return"[Function"+((b=function(t){if(t.name)return t.name;t=tt.call(Z.call(t),/^function\s*([\w$]+)/);if(t)return t[1];return null}(r))?": "+b:" (anonymous)")+"]"+(0<(b=Q(r,d)).length?" { "+A.call(b,", ")+" }":"");if(J(r))return b=N?E.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(r),"object"!=typeof r||N?b:W(b);if(function(t){if(!t||"object"!=typeof t)return;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return 1;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(r)){for(var y="<"+T.call(String(r.nodeName)),g=r.attributes||[],m=0;m<g.length;m++)y+=" "+g[m].name+"="+L((u=g[m].value,E.call(String(u),/"/g,"&quot;")),"double",s);return y+=">",r.childNodes&&r.childNodes.length&&(y+="..."),y+="</"+T.call(String(r.nodeName))+">"}if(F(r)){if(0===r.length)return"[]";var b=Q(r,d);return a&&!function(t){for(var e=0;e<t.length;e++)if(0<=B(t[e],"\n"))return;return 1}(b)?"["+V(b,a)+"]":"[ "+A.call(b,", ")+" ]"}if(!("[object Error]"!==$(b=r)||R&&"object"==typeof b&&R in b))return p=Q(r,d),"cause"in Error.prototype||!("cause"in r)||q.call(r,"cause")?0===p.length?"["+String(r)+"]":"{ ["+String(r)+"] "+A.call(p,", ")+" }":"{ ["+String(r)+"] "+A.call(P.call("[cause]: "+d(r.cause),p),", ")+" }";if("object"==typeof r&&t){if(M&&"function"==typeof r[M]&&U)return U(r,{depth:e-o});if("symbol"!==t&&"function"==typeof r.inspect)return r.inspect()}return function(t){if(!v||!t||"object"!=typeof t)return;try{v.call(t);try{_.call(t)}catch(t){return 1}return t instanceof Map}catch(t){}return}(r)?(c=[],X.call(r,function(t,e){c.push(d(e,r,!0)+" => "+d(t,r))}),z("Map",v.call(r),c,a)):function(t){if(!_||!t||"object"!=typeof t)return;try{_.call(t);try{v.call(t)}catch(t){return 1}return t instanceof Set}catch(t){}return}(r)?(l=[],K.call(r,function(t){l.push(d(t,r))}),z("Set",_.call(r),l,a)):function(t){if(!w||!t||"object"!=typeof t)return;try{w.call(t,w);try{O.call(t,O)}catch(t){return 1}return t instanceof WeakMap}catch(t){}return}(r)?G("WeakMap"):function(t){if(!O||!t||"object"!=typeof t)return;try{O.call(t,O);try{w.call(t,w)}catch(t){return 1}return t instanceof WeakSet}catch(t){}return}(r)?G("WeakSet"):function(t){if(!S||!t||"object"!=typeof t)return;try{return S.call(t),1}catch(t){}return}(r)?G("WeakRef"):"[object Number]"!==$(p=r)||R&&"object"==typeof p&&R in p?function(t){if(!t||"object"!=typeof t||!k)return;try{return k.call(t),1}catch(t){}return}(r)?W(d(k.call(r))):"[object Boolean]"!==$(e=r)||R&&"object"==typeof e&&R in e?"[object String]"!==$(t=r)||R&&"object"==typeof t&&R in t?("[object Date]"!==$(e=r)||R&&"object"==typeof e&&R in e)&&!H(r)?(t=Q(r,d),e=C?C(r)===Object.prototype:r instanceof Object||r.constructor===Object,f=r instanceof Object?"":"null prototype",h=!e&&R&&Object(r)===r&&R in r?x.call($(r),8,-1):f?"Object":"",e=(!e&&"function"==typeof r.constructor&&r.constructor.name?r.constructor.name+" ":"")+(h||f?"["+A.call(P.call([],h||[],f||[]),": ")+"] ":""),0===t.length?e+"{}":a?e+"{"+V(t,a)+"}":e+"{ "+A.call(t,", ")+" }"):String(r):W(d(String(r))):W(Y.call(r)):W(d(Number(r)))};var u=Object.prototype.hasOwnProperty||function(t){return t in this};function D(t,e){return u.call(t,e)}function $(t){return s.call(t)}function B(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function rt(t){var t=t.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+a.call(t.toString(16))}function W(t){return"Object("+t+")"}function G(t){return t+" { ? }"}function z(t,e,r,n){return t+" ("+e+") {"+(n?V(r,n):A.call(r,", "))+"}"}function V(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+A.call(t,","+r)+"\n"+e.prev}function Q(t,e){var r=F(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=D(t,o)?e(t[o],t):""}var i,s="function"==typeof p?p(t):[];if(N)for(var a={},u=0;u<s.length;u++)a["$"+s[u]]=s[u];for(i in t)!D(t,i)||r&&String(Number(i))===i&&i<t.length||N&&a["$"+i]instanceof Symbol||(l.call(/[^\w$]/,i)?n.push(e(i,t)+": "+e(t[i],t)):n.push(i+": "+e(t[i],t)));if("function"==typeof p)for(var c=0;c<s.length;c++)q.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}},{"./util.inspect":40}],53:[function(t,e,r){var n,o,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&h())}function h(){if(!l){for(var t=a(f),e=(l=!0,c.length);e;){for(u=c,c=[];++p<e;)u&&u[p].run();p=-1,e=c.length}u=null,l=!1,!function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return(o=clearTimeout)(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],54:[function(t,e,r){var n,o;n=this,o=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;for(var r,n=document.getElementsByTagName("head")[0],o=(n.insertBefore(e,n.firstChild),document.createElement("a")),i=1;i<t;i++)o.href=arguments[i],r=o.href,e.href=r;return n.removeChild(e),r}},"function"==typeof define&&define.amd?define(o):"object"==typeof r?e.exports=o():n.resolveUrl=o()},{}],55:[function(t,e,r){"use strict";function a(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r}var n=t("get-intrinsic"),o=t("call-bind/callBound"),u=t("object-inspect"),c=n("%TypeError%"),l=n("%WeakMap%",!0),p=n("%Map%",!0),f=o("WeakMap.prototype.get",!0),h=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),y=o("Map.prototype.get",!0),g=o("Map.prototype.set",!0),m=o("Map.prototype.has",!0);e.exports=function(){var o,i,s,e={assert:function(t){if(!e.has(t))throw new c("Side channel does not contain "+u(t))},get:function(t){if(l&&t&&("object"==typeof t||"function"==typeof t)){if(o)return f(o,t)}else if(p){if(i)return y(i,t)}else{var e;if(s)return(e=a(e=s,t))&&e.value}},has:function(t){if(l&&t&&("object"==typeof t||"function"==typeof t)){if(o)return d(o,t)}else if(p){if(i)return m(i,t)}else if(s)return!!a(s,t);return!1},set:function(t,e){var r,n;l&&t&&("object"==typeof t||"function"==typeof t)?(o=o||new l,h(o,t,e)):p?(i=i||new p,g(i,t,e)):(e=e,(n=a(r=s=s||{key:{},next:null},t=t))?n.value=e:r.next={key:t,next:r.next,value:e})}};return e}},{"call-bind/callBound":41,"get-intrinsic":47,"object-inspect":52}],56:[function(t,e,r){"use strict";function o(t,e){var r,n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(){this._defaults=[]}for(var i=0,s=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];i<s.length;i++){const u=s[i];n.prototype[u]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._defaults.push({fn:u,args:e}),this}}n.prototype._setDefaults=function(t){var e,r=o(this._defaults);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n.fn](...n.args)}}catch(t){r.e(t)}finally{r.f()}},e.exports=n},{}],57:[function(t,e,r){"use strict";function u(t,e){var r,n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}let n;n="undefined"!=typeof window?window:"undefined"==typeof self?void console.warn("Using browser-only version of superagent in non-browser environment"):self;const o=t("component-emitter");var i=t("fast-safe-stringify"),s=t("qs"),c=t("./request-base");const l=t("./utils"),p=l.isObject,f=l.mixin,h=l.hasOwn;var d=t("./response-base");const y=t("./agent-base");function g(){}e.exports=function(t,e){return"function"==typeof e?new r.Request("GET",t).end(e):1===arguments.length?new r.Request("GET",t):new r.Request(t,e)};const m=r=e.exports,b=(r.Request=S,m.getXHR=()=>{if(n.XMLHttpRequest)return new n.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")},"".trim?t=>t.trim():t=>t.replace(/(^\s*|\s*$)/g,""));function v(t){if(!p(t))return t;const e=[];for(const r in t)h(t,r)&&!function t(e,r,n){if(void 0===n)return;if(null===n)return void e.push(encodeURI(r));if(Array.isArray(n)){var o,i=u(n);try{for(i.s();!(o=i.n()).done;){const s=o.value;t(e,r,s)}}catch(t){i.e(t)}finally{i.f()}}else if(p(n))for(const a in n)h(n,a)&&t(e,"".concat(r,"[").concat(a,"]"),n[a]);else e.push(encodeURI(r)+"="+encodeURIComponent(n))}(e,r,t[r]);return e.join("&")}function _(t){const r={};var n,o=t.split("&");let i;for(let t=0,e=o.length;t<e;++t)-1===(n=(i=o[t]).indexOf("="))?r[decodeURIComponent(i)]="":r[decodeURIComponent(i.slice(0,n))]=decodeURIComponent(i.slice(n+1));return r}function w(t){return/[/+]json($|[^-\w])/i.test(t)}function O(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){var r,n,o=t.split(/\r?\n/);const i={};let s;for(let t=0,e=o.length;t<e;++t)-1!==(n=(s=o[t]).indexOf(":"))&&(r=s.slice(0,n).toLowerCase(),n=b(s.slice(n+1)),i[r]=n);return i}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text||this.xhr.response)}function S(t,e){const n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",()=>{let e=null,t=null;try{t=new O(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status||null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",t);let r;try{n._isResponseOK(t)||(r=new Error(t.statusText||t.text||"Unsuccessful HTTP response"))}catch(t){r=t}r?(r.original=e,r.response=t,r.status=r.status||t.status,n.callback(r,t)):n.callback(null,t)})}m.serializeObject=v,m.parseString=_,m.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},m.serialize={"application/x-www-form-urlencoded":s.stringify,"application/json":i},m.parse={"application/x-www-form-urlencoded":_,"application/json":JSON.parse},f(O.prototype,d.prototype),O.prototype._parseBody=function(t){let e=m.parse[this.type];return this.req._parser?this.req._parser(this,t):(e=!e&&w(this.type)?m.parse["application/json"]:e)&&t&&(0<t.length||t instanceof Object)?e(t):null},O.prototype.toError=function(){var t=this.req,e=t.method,t=t.url,r="cannot ".concat(e," ").concat(t," (").concat(this.status,")");const n=new Error(r);return n.status=this.status,n.method=e,n.url=t,n},m.Response=O,o(S.prototype),f(S.prototype,c.prototype),S.prototype.type=function(t){return this.set("Content-Type",m.types[t]||t),this},S.prototype.accept=function(t){return this.set("Accept",m.types[t]||t),this},S.prototype.auth=function(t,e,r){"object"==typeof(e=1===arguments.length?"":e)&&null!==e&&(r=e,e="");var n=(r=r||{type:"function"==typeof btoa?"basic":"auto"}).encoder||(t=>{if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")});return this._auth(t,e,r,n)},S.prototype.query=function(t){return(t="string"!=typeof t?v(t):t)&&this._query.push(t),this},S.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},S.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},S.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();const r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},S.prototype.crossDomainError=function(){const t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},S.prototype.buffer=S.prototype.ca=S.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},S.prototype.pipe=S.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},S.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},S.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||g,this._finalizeQueryString(),this._end()},S.prototype._setUploadTimeout=function(){const t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},S.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const r=this,n=(this.xhr=m.getXHR(),this.xhr);let e=this._formData||this._data;this._setTimeouts(),n.addEventListener("readystatechange",()=>{var t=n.readyState;if(2<=t&&r._responseTimeoutTimer&&clearTimeout(r._responseTimeoutTimer),4===t){let e;try{e=n.status}catch(t){e=0}if(!e)return r.timedout||r._aborted?void 0:r.crossDomainError();r.emit("end")}});var t=(t,e)=>{0<e.total&&(e.percent=e.loaded/e.total*100,100===e.percent&&clearTimeout(r._uploadTimeoutTimer)),e.direction=t,r.emit("progress",e)};if(this.hasListeners("progress"))try{n.addEventListener("progress",t.bind(null,"download")),n.upload&&n.upload.addEventListener("progress",t.bind(null,"upload"))}catch(t){}n.upload&&this._setUploadTimeout();try{this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(n.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof e&&!this._isHost(e)){const o=this._header["content-type"];let t=this._serializer||m.serialize[o?o.split(";")[0]:""];(t=!t&&w(o)?m.serialize["application/json"]:t)&&(e=t(e))}for(const i in this.header)null!==this.header[i]&&h(this.header,i)&&n.setRequestHeader(i,this.header[i]);this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0===e?null:e)},m.agent=()=>new y;for(var x=0,E=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];x<E.length;x++){const P=E[x];y.prototype[P.toLowerCase()]=function(t,e){const r=new m.Request(P,t);return this._setDefaults(r),e&&r.end(e),r}}function T(t,e,r){const n=m("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}y.prototype.del=y.prototype.delete,m.get=(t,e,r)=>{const n=m("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},m.head=(t,e,r)=>{const n=m("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},m.options=(t,e,r)=>{const n=m("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},m.del=T,m.delete=T,m.patch=(t,e,r)=>{const n=m("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},m.post=(t,e,r)=>{const n=m("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},m.put=(t,e,r)=>{const n=m("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},{"./agent-base":56,"./request-base":58,"./response-base":59,"./utils":60,"component-emitter":43,"fast-safe-stringify":44,qs:62}],58:[function(u,c,t){!function(a){!function(){"use strict";const t=u("semver"),e=u("./utils"),i=e.isObject,s=e.hasOwn;function r(){}(c.exports=r).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},r.prototype.parse=function(t){return this._parser=t,this},r.prototype.responseType=function(t){return this._responseType=t,this},r.prototype.serialize=function(t){return this._serializer=t,this},r.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(const e in t)if(s(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},r.prototype.retry=function(t,e){return this._maxRetries=t=(t=0!==arguments.length&&!0!==t?t:1)<=0?0:t,this._retries=0,this._retryCallback=e,this};const n=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),o=new Set([408,413,429,500,502,503,504,521,522,524]);r.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&o.has(e.status))return!0;if(t){if(t.code&&n.has(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},r.prototype.then=function(t,e){if(!this._fullfilledPromise){const o=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((r,n)=>{o.on("abort",()=>{if(!(this._maxRetries&&this._maxRetries>this._retries))if(this.timedout&&this.timedoutError)n(this.timedoutError);else{const t=new Error("Aborted");t.code="ABORTED",t.status=this.status,t.method=this.method,t.url=this.url,n(t)}}),o.end((t,e)=>{t?n(t):r(e)})})}return this._fullfilledPromise.then(t,e)},r.prototype.catch=function(t){return this.then(void 0,t)},r.prototype.use=function(t){return t(this),this},r.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},r.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):200<=t.status&&t.status<300)},r.prototype.getHeader=r.prototype.get=function(t){return this._header[t.toLowerCase()]},r.prototype.set=function(t,e){if(i(t)){for(const r in t)s(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},r.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.prototype.field=function(t,e,r){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(i(t)){for(const n in t)s(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(const o in e)s(e,o)&&this.field(t,e[o]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this},r.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(t.gte(a.version,"v13.0.0")&&t.lt(a.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");t.gte(a.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},r.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},r.prototype.withCredentials=function(t){return this._withCredentials=t=void 0===t?!0:t,this},r.prototype.redirects=function(t){return this._maxRedirects=t,this},r.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(t){var e=i(t);let r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&i(this._data))for(const n in t)s(t,n)&&(this._data[n]=t[n]);else"string"==typeof t?(r||this.type("form"),"application/x-www-form-urlencoded"===(r=(r=this._header["content-type"])&&r.toLowerCase().trim())?this._data=this._data?"".concat(this._data,"&").concat(t):t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)||r||this.type("json"),this},r.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},r.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){t=this.url.indexOf("?");if(0<=t){const e=this.url.slice(t+1).split("&");"function"==typeof this._sort?e.sort(this._sort):e.sort(),this.url=this.url.slice(0,t)+"?"+e.join("&")}}},r.prototype._appendQueryString=()=>{console.warn("Unsupported")},r.prototype._timeoutError=function(t,e,r){if(!this._aborted){const n=new Error("".concat(t+e,"ms exceeded"));n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}},r.prototype._setTimeouts=function(){const t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}}.call(this)}.call(this,u("_process"))},{"./utils":60,_process:53,semver:40}],59:[function(t,e,r){"use strict";const o=t("./utils");function n(){}(e.exports=n).prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"",r=(this.type=o.type(e),o.params(e));for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=o.parseLinks(t.link))}catch(t){}},n.prototype._setStatusProperties=function(t){var e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},{"./utils":60}],60:[function(t,e,n){"use strict";function u(t,e){var r,n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}n.type=t=>t.split(/ *; */).shift(),n.params=t=>{const e={};var r,n=u(t.split(/ *; */));try{for(n.s();!(r=n.n()).done;){const i=r.value,s=i.split(/ *= */);var o=s.shift();const t=s.shift();o&&t&&(e[o]=t)}}catch(t){n.e(t)}finally{n.f()}return e},n.parseLinks=t=>{const e={};var r,n=u(t.split(/ *, */));try{for(n.s();!(r=n.n()).done;){const s=r.value,a=s.split(/ *; */);var o=a[0].slice(1,-1),i=a[1].split(/ *= */)[1].slice(1,-1);e[i]=o}}catch(t){n.e(t)}finally{n.f()}return e},n.cleanHeader=(t,e)=>(delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t),n.isObject=t=>null!==t&&"object"==typeof t,n.hasOwn=Object.hasOwn||function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(t),e)},n.mixin=(t,e)=>{for(const r in e)n.hasOwn(e,r)&&(t[r]=e[r])}},{}],61:[function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g,i="RFC1738",s="RFC3986";e.exports={default:s,formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:s}},{}],62:[function(t,e,r){"use strict";var n=t("./stringify"),o=t("./parse"),t=t("./formats");e.exports={formats:t,parse:o,stringify:n}},{"./formats":61,"./parse":63,"./stringify":64}],63:[function(t,e,r){"use strict";function u(t,e){var r,n,o,i,s={},t=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,u=t.split(e.delimiter,a),c=-1,l=e.charset;if(e.charsetSentinel)for(r=0;r<u.length;++r)0===u[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[r]?l="utf-8":"utf8=%26%2310003%3B"===u[r]&&(l="iso-8859-1"),c=r,r=u.length);for(r=0;r<u.length;++r)r!==c&&((i=-1===(i=-1===(i=(n=u[r]).indexOf("]="))?n.indexOf("="):i+1)?(o=e.decoder(n,h.decoder,l,"key"),e.strictNullHandling?null:""):(o=e.decoder(n.slice(0,i),h.decoder,l,"key"),p.maybeMap(b(n.slice(i+1),e),function(t){return e.decoder(t,h.decoder,l,"value")})))&&e.interpretNumericEntities&&"iso-8859-1"===l&&(i=i.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})),-1<n.indexOf("[]=")&&(i=f(i)?[i]:i),m.call(s,o)?s[o]=p.combine(s[o],i):s[o]=i);return s}function c(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,s=0<r.depth&&/(\[[^[\]]*])/.exec(o),t=s?o.slice(0,s.index):o,a=[];if(t){if(!r.plainObjects&&m.call(Object.prototype,t)&&!r.allowPrototypes)return;a.push(t)}for(var u=0;0<r.depth&&null!==(s=i.exec(o))&&u<r.depth;){if(u+=1,!r.plainObjects&&m.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;a.push(s[1])}s&&a.push("["+o.slice(s.index)+"]");for(var c=a,t=e,l=r,p=n?t:b(t,l),f=c.length-1;0<=f;--f){var h,d,y,g=c[f];"[]"===g&&l.parseArrays?h=[].concat(p):(h=l.plainObjects?Object.create(null):{},d="["===g.charAt(0)&&"]"===g.charAt(g.length-1)?g.slice(1,-1):g,y=parseInt(d,10),l.parseArrays||""!==d?!isNaN(y)&&g!==d&&String(y)===d&&0<=y&&l.parseArrays&&y<=l.arrayLimit?(h=[])[y]=p:"__proto__"!==d&&(h[d]=p):h={0:p}),p=h}return p}}var p=t("./utils"),m=Object.prototype.hasOwnProperty,f=Array.isArray,h={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:p.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},b=function(t,e){return t&&"string"==typeof t&&e.comma&&-1<t.indexOf(",")?t.split(","):t};e.exports=function(t,e){var r=function(t){if(!t)return h;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=(void 0===t.charset?h:t).charset;return{allowDots:void 0===t.allowDots?h.allowDots:!!t.allowDots,allowPrototypes:("boolean"==typeof t.allowPrototypes?t:h).allowPrototypes,allowSparse:("boolean"==typeof t.allowSparse?t:h).allowSparse,arrayLimit:("number"==typeof t.arrayLimit?t:h).arrayLimit,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:h).charsetSentinel,comma:("boolean"==typeof t.comma?t:h).comma,decoder:("function"==typeof t.decoder?t:h).decoder,delimiter:("string"==typeof t.delimiter||p.isRegExp(t.delimiter)?t:h).delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:h.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof t.interpretNumericEntities?t:h).interpretNumericEntities,parameterLimit:("number"==typeof t.parameterLimit?t:h).parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:("boolean"==typeof t.plainObjects?t:h).plainObjects,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:h).strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?u(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),s=0;s<i.length;++s)var a=i[s],a=c(a,n[a],r,"string"==typeof t),o=p.merge(o,a,r);return!0===r.allowSparse?o:p.compact(o)}},{"./utils":65}],64:[function(t,e,r){"use strict";function N(t,e){n.apply(t,I(e)?e:[e])}function R(t,e,r,n,o,i,s,a,u,c,l,p,f,h,d){for(var y=t,g=d,m=0,b=!1;void 0!==(g=g.get(L))&&!b;){var v=g.get(t);if(m+=1,void 0!==v){if(v===m)throw new RangeError("Cyclic object value");b=!0}void 0===g.get(L)&&(m=0)}if("function"==typeof s?y=s(e,y):y instanceof Date?y=c(y):"comma"===r&&I(y)&&(y=C.maybeMap(y,function(t){return t instanceof Date?c(t):t})),null===y){if(n)return i&&!f?i(e,M.encoder,h,"key",l):e;y=""}if("string"==typeof(_=y)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||C.isBuffer(y)){if(i){var _=f?e:i(e,M.encoder,h,"key",l);if("comma"===r&&f){for(var w=U.call(String(y),","),O="",S=0;S<w.length;++S)O+=(0===S?"":",")+p(i(w[S],M.encoder,h,"value",l));return[p(_)+(I(y)&&1===w.length?"[]":"")+"="+O]}return[p(_)+"="+p(i(y,M.encoder,h,"value",l))]}return[p(e)+"="+p(String(y))]}var x,E=[];if(void 0===y)return E;x="comma"===r&&I(y)?[{value:0<y.length?y.join(",")||null:void 0}]:I(s)?s:(_=Object.keys(y),a?_.sort(a):_);for(var T="comma"===r&&I(y)&&1===y.length?e+"[]":e,P=0;P<x.length;++P){var A,k=x[P],j="object"==typeof k&&void 0!==k.value?k.value:y[k];o&&null===j||(k=I(y)?"function"==typeof r?r(T,k):T:T+(u?"."+k:"["+k+"]"),d.set(t,m),(A=q()).set(L,d),N(E,R(j,k,r,n,o,i,s,a,u,c,l,p,f,h,A)))}return E}var q=t("side-channel"),C=t("./utils"),l=t("./formats"),p=Object.prototype.hasOwnProperty,f={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},I=Array.isArray,U=String.prototype.split,n=Array.prototype.push,o=Date.prototype.toISOString,t=l.default,M={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:C.encode,encodeValuesOnly:!1,format:t,formatter:l.formatters[t],indices:!1,serializeDate:function(t){return o.call(t)},skipNulls:!1,strictNullHandling:!1},L={};e.exports=function(t,e){var r=t,n=function(t){if(!t)return M;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||M.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=l.default;if(void 0!==t.format){if(!p.call(l.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=l.formatters[r],o=M.filter;return"function"!=typeof t.filter&&!I(t.filter)||(o=t.filter),{addQueryPrefix:("boolean"==typeof t.addQueryPrefix?t:M).addQueryPrefix,allowDots:void 0===t.allowDots?M.allowDots:!!t.allowDots,charset:e,charsetSentinel:("boolean"==typeof t.charsetSentinel?t:M).charsetSentinel,delimiter:(void 0===t.delimiter?M:t).delimiter,encode:("boolean"==typeof t.encode?t:M).encode,encoder:("function"==typeof t.encoder?t:M).encoder,encodeValuesOnly:("boolean"==typeof t.encodeValuesOnly?t:M).encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:("function"==typeof t.serializeDate?t:M).serializeDate,skipNulls:("boolean"==typeof t.skipNulls?t:M).skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:("boolean"==typeof t.strictNullHandling?t:M).strictNullHandling}}(e),o=("function"==typeof n.filter?r=(0,n.filter)("",r):I(n.filter)&&(s=n.filter),[]);if("object"!=typeof r||null===r)return"";var t=e&&e.arrayFormat in f?e.arrayFormat:!(e&&"indices"in e)||e.indices?"indices":"repeat",i=f[t],s=s||Object.keys(r);n.sort&&s.sort(n.sort);for(var a=q(),u=0;u<s.length;++u){var c=s[u];n.skipNulls&&null===r[c]||N(o,R(r[c],c,i,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,a))}e=o.join(n.delimiter),t=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?t+="utf8=%26%2310003%3B&":t+="utf8=%E2%9C%93&"),0<e.length?t+e:""}},{"./formats":61,"./utils":65,"side-channel":55}],65:[function(t,e,r){"use strict";function a(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r}var c=t("./formats"),u=Object.prototype.hasOwnProperty,y=Array.isArray,l=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.exports={arrayToObject:a,assign:function(t,r){return Object.keys(r).reduce(function(t,e){return t[e]=r[e],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],s=Object.keys(i),a=0;a<s.length;++a){var u=s[a],c=i[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:i,prop:u}),r.push(c))}for(var l=e;1<l.length;){var p=l.pop(),f=p.obj[p.prop];if(y(f)){for(var h=[],d=0;d<f.length;++d)void 0!==f[d]&&h.push(f[d]);p.obj[p.prop]=h}}return t},decode:function(e,t,r){e=e.replace(/\+/g," ");if("iso-8859-1"===r)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch(t){return e}},encode:function(t,e,r,n,o){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var s="",a=0;a<i.length;++a){var u=i.charCodeAt(a);45===u||46===u||95===u||126===u||48<=u&&u<=57||65<=u&&u<=90||97<=u&&u<=122||o===c.RFC1738&&(40===u||41===u)?s+=i.charAt(a):u<128?s+=l[u]:u<2048?s+=l[192|u>>6]+l[128|63&u]:u<55296||57344<=u?s+=l[224|u>>12]+l[128|u>>6&63]+l[128|63&u]:(a+=1,u=65536+((1023&u)<<10|1023&i.charCodeAt(a)),s+=l[240|u>>18]+l[128|u>>12&63]+l[128|u>>6&63]+l[128|63&u])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(y(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function n(o,i,s){if(!i)return o;if("object"!=typeof i){if(y(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(s&&(s.plainObjects||s.allowPrototypes)||!u.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var t=o;return y(o)&&!y(i)&&(t=a(o,s)),y(o)&&y(i)?(i.forEach(function(t,e){var r;u.call(o,e)?(r=o[e])&&"object"==typeof r&&t&&"object"==typeof t?o[e]=n(r,t,s):o.push(t):o[e]=t}),o):Object.keys(i).reduce(function(t,e){var r=i[e];return u.call(t,e)?t[e]=n(t[e],r,s):t[e]=r,t},t)}}},{"./formats":61}],66:[function(t,e,r){var n,o;n=this,o=function(){function t(){}return t.prototype.encodeReserved=function(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return t=/%[0-9A-Fa-f]/.test(t)?t:encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")}).join("")},t.prototype.encodeUnreserved=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},t.prototype.encodeValue=function(t,e,r){return e="+"===t||"#"===t?this.encodeReserved(e):this.encodeUnreserved(e),r?this.encodeUnreserved(r)+"="+e:e},t.prototype.isDefined=function(t){return null!=t},t.prototype.isKeyOperator=function(t){return";"===t||"&"===t||"?"===t},t.prototype.getValues=function(t,e,r,n){var o,i=t[r],s=[];return this.isDefined(i)&&""!==i?"string"==typeof i||"number"==typeof i||"boolean"==typeof i?(i=i.toString(),n&&"*"!==n&&(i=i.substring(0,parseInt(n,10))),s.push(this.encodeValue(e,i,this.isKeyOperator(e)?r:null))):"*"===n?Array.isArray(i)?i.filter(this.isDefined).forEach(function(t){s.push(this.encodeValue(e,t,this.isKeyOperator(e)?r:null))},this):Object.keys(i).forEach(function(t){this.isDefined(i[t])&&s.push(this.encodeValue(e,i[t],t))},this):(o=[],Array.isArray(i)?i.filter(this.isDefined).forEach(function(t){o.push(this.encodeValue(e,t))},this):Object.keys(i).forEach(function(t){this.isDefined(i[t])&&(o.push(this.encodeUnreserved(t)),o.push(this.encodeValue(e,i[t].toString())))},this),this.isKeyOperator(e)?s.push(this.encodeUnreserved(r)+"="+o.join(",")):0!==o.length&&s.push(o.join(","))):";"===e?this.isDefined(i)&&s.push(this.encodeUnreserved(r)):""!==i||"&"!==e&&"?"!==e?""===i&&s.push(""):s.push(this.encodeUnreserved(r)+"="),s},t.prototype.parse=function(t){var s=this,a=["+","#",".","/",";","?","&"];return{expand:function(i){return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(t,e,r){var n,o;return e?(n=null,o=[],-1!==a.indexOf(e.charAt(0))&&(n=e.charAt(0),e=e.substr(1)),e.split(/,/g).forEach(function(t){t=/([^:\*]*)(?::(\d+)|(\*))?/.exec(t);o.push.apply(o,s.getValues(i,n,t[1],t[2]||t[3]))}),n&&"+"!==n?(e=",","?"===n?e="&":"#"!==n&&(e=n),(0!==o.length?n:"")+o.join(e)):o.join(",")):s.encodeReserved(r)})}}},new t},"object"==typeof r?e.exports=o():"function"==typeof define&&define.amd?define([],o):n.urltemplate=o()},{}],67:[function(require,module,exports){var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e,r=[];for(e in t)r.push(e);return r},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe"),r=(t.style||(t.style={}),t.style.display="none",document.body.appendChild(t),t.contentWindow),n=r.eval,o=r.execScript,i=(!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])}),Object_keys(r)),o=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(i,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var r=Script.createContext(e),t=this.runInContext(r);return e&&forEach(Object_keys(r),function(t){e[t]=r[t]}),t},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(t){var e=Script(t);return e[r].apply(e,[].slice.call(arguments,1))}}),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(e){var r=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(t){r[t]=e[t]}),r}},{}],68:[function(a,t,u){!function(e){!function(){"use strict";a("minilog");var t=a("./lib/errors"),r=t.errors,n=t.createError,o=a("./lib/media_types"),i=a("./lib/builder"),s=a("./lib/media_type_registry");e.env.TRAVERSON_LOGGING&&a("minilog").enable(),u._Builder=i,u.newRequest=function(){return new i},u.from=function(t){var e=new i;return e.from(t),e},u.json={from:function(t){var e=new i;return e.from(t),e.setMediaType(o.JSON),e}},u.jsonHal={from:function(t){if(!s.get(o.JSON_HAL))throw n("JSON HAL adapter is not registered. From version 1.0.0 on, Traverson has no longer built-in support for application/hal+json. HAL support was moved to a separate, optional plug-in. See https://github.com/traverson/traverson-hal",r.UnsupportedMediaType);var e=new i;return e.from(t),e.setMediaType(o.JSON_HAL),e}},u.registerMediaType=s.register,u.mediaTypes=o,u.errors=r}.call(this)}.call(this,a("_process"))},{"./lib/builder":8,"./lib/errors":9,"./lib/media_type_registry":13,"./lib/media_types":14,_process:53,minilog:1}]},{},[68])(68)});